From 5a4097439eb3cb3d860c28c9664bd682ad72be97 Mon Sep 17 00:00:00 2001
From: genius user <genius@ReliableEmbeddedSystems.com>
Date: Sat, 9 Jan 2016 18:27:27 +0000
Subject: [PATCH] attempt with fdt/leds

Signed-off-by: genius user <genius@ReliableEmbeddedSystems.com>
---
 arch/arm/boot/dts/zedboard-zynq7-res1.dts | 58 +++++++++++++++++++++++++++++++
 1 file changed, 58 insertions(+)
 create mode 100644 arch/arm/boot/dts/zedboard-zynq7-res1.dts

diff --git a/arch/arm/boot/dts/zedboard-zynq7-res1.dts b/arch/arm/boot/dts/zedboard-zynq7-res1.dts
new file mode 100644
index 0000000..648ead4
--- /dev/null
+++ b/arch/arm/boot/dts/zedboard-zynq7-res1.dts
@@ -0,0 +1,58 @@
+/dts-v1/;
+/include/ "zynq7-base.dtsi"
+/include/ "zedboard-zynq7-board.dtsi"
+/ {
+        amba_res: amba_res {
+                #address-cells = <1>;
+                #size-cells = <1>;
+                compatible = "simple-bus";
+                ranges ;
+                axi_gpio_0: gpio@41200000 {
+                        #gpio-cells = <2>;
+                        compatible = "xlnx,xps-gpio-1.00.a";
+                        gpio-controller ;
+                        reg = <0x41200000 0x10000>;
+                        xlnx,all-inputs = <0x1>;
+                        xlnx,all-inputs-2 = <0x0>;
+                        xlnx,all-outputs = <0x0>;
+                        xlnx,all-outputs-2 = <0x0>;
+                        xlnx,dout-default = <0x00000000>;
+                        xlnx,dout-default-2 = <0x00000000>;
+                        xlnx,gpio-width = <0x5>;
+                        xlnx,gpio2-width = <0x20>;
+                        xlnx,interrupt-present = <0x0>;
+                        xlnx,is-dual = <0x0>;
+                        xlnx,tri-default = <0xFFFFFFFF>;
+                        xlnx,tri-default-2 = <0xFFFFFFFF>;
+                };
+                axi_gpio_1: gpio@41210000 {
+                        #gpio-cells = <2>;
+                        compatible = "xlnx,xps-gpio-1.00.a";
+                        gpio-controller ;
+                        reg = <0x41210000 0x10000>;
+                        xlnx,all-inputs = <0x0>;
+                        xlnx,all-inputs-2 = <0x0>;
+                        xlnx,all-outputs = <0x1>;
+                        xlnx,all-outputs-2 = <0x0>;
+                        xlnx,dout-default = <0x00000000>;
+                        xlnx,dout-default-2 = <0x00000000>;
+                        xlnx,gpio-width = <0x8>;
+                        xlnx,gpio2-width = <0x20>;
+                        xlnx,interrupt-present = <0x0>;
+                        xlnx,is-dual = <0x0>;
+                        xlnx,tri-default = <0xFFFFFFFF>;
+                        xlnx,tri-default-2 = <0xFFFFFFFF>;
+                };
+        };
+
+    gpio-leds {
+        compatible = "gpio-leds";
+        led-LD0 {
+        label = "led-LD0";
+        gpios = <&axi_gpio_1 0 0>;
+        default-state = "on";
+        linux,default-trigger = "heartbeat";
+        };
+    };
+
+} ;
-- 
1.9.1

