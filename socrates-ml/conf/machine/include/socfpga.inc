# copied from meta-altera
SOC_FAMILY = "socfpga"

require conf/machine/include/tune-cortexa9.inc

# this variable specifies the kernel to be built: linux-altera or linux-altera-ltsi
# this affects the PREFERRED_PROVIDER of virtual/kernel
# it can be overriden from the environment, using BB_ENV_EXTRAWHITE
KERNEL_PROVIDER?="linux-altera-ltsi"
PREFERRED_PROVIDER_virtual/kernel = "${KERNEL_PROVIDER}"

PREFERRED_PROVIDER_virtual/bootloader = "u-boot-socfpga"

# Increase this everytime you change something in the kernel
MACHINE_KERNEL_PR = "r1"

UBOOT_ENTRYPOINT = "0x80008000"
UBOOT_LOADADDRESS = "0x80008000"

SERIAL_CONSOLE = "115200 ttyS0"

# --> replaced this
# I don't want a zImage, but a uImage
# KERNEL_IMAGETYPE = "zImage"
KERNEL_IMAGETYPE = "uImage"
# <-- replaced this
MACHINE_EXTRA_RRECOMMENDS = " kernel-modules"
MACHINE_FEATURES = "kernel26"

# file system images required
IMAGE_INSTALL += "gator"
#IMAGE_FSTYPES ?= "cpio ext3 tar.gz"
IMAGE_FSTYPES ?= "tar.bz2"

