[custom-dizzy-socrates-ml-minimal-sato-sdk-toolchain]
builders: 'builder1'
repos: [{'poky':
            {'repourl':'git://git.yoctoproject.org/poky',
                'layerversion':{'core':'meta', 'yoctobsp':'meta-yocto-bsp'},
             'branch':'dizzy',
             'bbpriority':'1'}},
        {'meta-altera':
             {'repourl':'git://git.rocketboards.org/meta-altera.git',
             'branch':'angstrom-v2014.06-yocto1.6',
             'bbpriority':'2'}},
        {'meta-mainline':
            {'repourl':'git://github.com/RobertBerger/meta-mainline',
             'branch':'dizzy-training-v3.14.x',
             'bbpriority':'4'}}]

steps: [{'SetDest':{}},
        {'CheckOutLayers': {}},
        {'RunPreamble': {}},
        {'GetDistroVersion' : {'distro': 'poky'}},
        {'CreateAutoConf': {'machine': 'socfpga-cyclone5', 'SDKMACHINE' : 'x86_64', 'distro': 'poky', 'buildhistory' : True, 'packages': 'ipk'}},
        {'CreateBBLayersConf': {'buildprovider' : 'yocto', 'layerdirs': ['meta-mainline/socrates-ml', 'meta-altera']}},
        {'BuildImages': {'images': 'core-image-minimal core-image-sato-sdk'}},
        {'BuildToolchainImages': {}},
        {'PublishArtifacts': {'artifacts': ['socfpga-cyclone5', 'ipk', 'toolchain', 'md5sums']}}]

